
<style>
  .flexcard {

    width: 95%;

    height: 380px;
    border-radius: 20px;
    margin:8px;
  }

  .flexcardNumber {
    width: 70%;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 50px;
    margin: 10px 0px;
    border-radius: 0px 50px 50px 0px;
    font-family: 'Jost', sans-serif;
    color: white;
    text-shadow: 0px 3px 5px black;
    font-weight: 500;
    font-size: 15px;
    position: relative;
  }

  .flexcardTitle {
    font-family: 'Jost', sans-serif;
    text-transform: uppercase;
    font-size: 26px;
    font-weight: 400;
  }

  .flexcardText {
    font-family: 'Jost', sans-serif;
    text-align: center;
    font-weight: 300;
  }

  .flexcardNumber:before {
    content: '';
    width: 34px;
    height: 90px;
    position: absolute;
    left: -33px;
    top: 0px;
    border-radius: 50px 0px 0px 50px;
    z-index: -1;
  /* background: #95B7A2; *//* background: -webkit-linear-gradient(bottom, #95B7A2, #AED2BC); */
    background: -moz-linear-gradient(bottom, #95B7A2, #AED2BC);
  /* background: linear-gradient(to top, #95B7A2, #AED2BC); */;
  }

  .flexcardNumber:after {
    content: '';
    width: 25px;
    height: 40px;
    position: absolute;
    left: -25px;
    bottom: -40px;
    border-radius: 50px 0px 0px 50px;
    z-index: -1;
  }

  .flex {
    display: flex;
    justify-content: center;
    width: 100%;
    margin: 10px auto;
  }

  img.flexcardimgItem {
    width: 50%;
  }

  /* GREEN CARD */

  .flexcardGreen {
    background: #f9fbfa;
    box-shadow: 4px 4px 4px #AED2BC;
  }

  .flexcardNumberGreen {
    background: #FCFCFC;
    background: -webkit-linear-gradient(right, #FCFCFC, #AED2BC);
    background: -moz-linear-gradient(right, #FCFCFC, #AED2BC);
    background: linear-gradient(to left, #FCFCFC, #AED2BC);
    box-shadow: 0px 2px 2px #AED2BC;
  }

  .flexcardNumberGreen:before {
    background: #AED2BC;
  }

  .flexcardNumberGreen:after {
    background: #95b7a2;
  }


  /*flex card red*/
  .flexcardNumberred {
    background: #dc3545;
    background: #dc3545;
    background: #dc3545;
    background: #dc3545;
    box-shadow: 0px 2px 2px #dc3545;
  }

  .flexcardNumberred:before {
    background: #dc3545;
  }

  .flexcardNumberred:after {
    background: #dc3545;
  }

  /* BLUE CARD */

  .flexcardBlue {
    background: #f7ffff;
   box-shadow: 4px 8px 1px #92E8EB;
  }

  .flexcardNumberBlue {
    background: #FDFFFE;
    background: -webkit-linear-gradient(right, #FDFFFE, #92E8EB);
    background: -moz-linear-gradient(right, #FDFFFE, #92E8EB);
    background: linear-gradient(to left, #FDFFFE, #92E8EB);
    box-shadow: 0px 2px 2px #92E8EB;
  }

  .flexcardNumberBlue:before {
    background: #92E8EB;
  }

  .flexcardNumberBlue:after {
    background: #71bdbf;
  }

  /* ORANGE CARD */

  .flexcardOrange {
    background: #fdf8f3;
   box-shadow: 4px -2px 1px #F68404;
  }

  .flexcardNumberOrange {
    background: #FDFFFE;
    background: -webkit-linear-gradient(right, #FDFFFE, #F68404);
    background: -moz-linear-gradient(right, #FDFFFE, #F68404);
    background: linear-gradient(to left, #FDFFFE, #F68404);
    box-shadow: 0px 2px 2px #F68404;
  }

  .flexcardNumberOrange:before {
    background: #F68404;
  }

  .flexcardNumberOrange:after {
    background: #d06f02;
  }

  /* PİNK CARD */

  .flexcardPink {
    background: #fffafd;
    position: relative;
      box-shadow: 2px 2px 1px #F34EAE ;
      border-radius: 20px 20px 0px 20px;
  }
  .flexcardPink:before {
      content: '';
      width: 0px;
      height: 50px;
      /* background: red; */
      position: absolute;
      bottom: 0;
      right: 0;
      border-left: 100px solid transparent;
      border-bottom: 90px solid #F34EAE;
  }
  .flexcardNumberPink {
    background: #FDFFFE;
    background: -webkit-linear-gradient(right, #FDFFFE, #F34EAE);
    background: -moz-linear-gradient(right, #FDFFFE, #F34EAE);
    background: linear-gradient(to left, #FDFFFE, #F34EAE);
    box-shadow: 0px 2px 2px #F34EAE;
  }

  .flexcardNumberPink:before {
    background: #F34EAE;
  }

  .flexcardNumberPink:after {
    background: #d24095;
  }

  /* RESPONSİVE */

/*  @media only screen and (max-width: 800px) {

    .flexcard {
      width: 35%;
      margin-top: 20px;
    }

    img.flexcardimgItem {
      width: 30%;
    }

  }*/

/*  @media only screen and (max-width: 500px) {

    .flexcard {
      width: 70%;
    }


  }*/
  footer {
      display: flex;
      width: 100%;
      justify-content: center;
      margin: 50px;
      font-family: 'Jost', sans-serif;
      font-size: 15px;
  }
/* Style pour la pagination arrondie et centrée */
.pagination {
  display: flex;
  justify-content: center;
}

.pagination .page-item {
  margin: 0 5px;
  border-radius: 20px; /* Pour obtenir des coins arrondis */
}

.pagination .page-link {
  color: #fff; /* Couleur du texte */
  background-color: #007bff; /* Couleur de fond */
  border-color: #007bff; /* Couleur de la bordure */
}

.pagination .page-link:hover {
  background-color: #0056b3; /* Couleur de fond au survol */
  border-color: #0056b3; /* Couleur de la bordure au survol */
}


.button-pulse {
  animation: pulse 2s infinite 3s cubic-bezier(0.25, 0, 0, 1);
  box-shadow: 0 0 0 0 white;
}
@keyframes pulse {
  to {
    box-shadow: 0 0 0 18px rgba(255, 255, 255, 0); 
  }
}

</style>

<style>  
	#loadingIndicator {  
		display: none; /* Masquer par défaut */  
		position: fixed;  
		top: 50%;  
		left: 50%;  
		transform: translate(-50%, -50%);  
		color:white;
		border: 1px solid #ccc;  
		padding: 10px;  
		background: #8E0E00;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #1F1C18, #8E0E00);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #1F1C18, #8E0E00); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

		z-index: 1000;  
	}  
	/* Styles supplémentaires ici */  
</style> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.1.4/sweetalert2.min.css">  

{% extends './index.html' %}

{% load static %}
{% block miniBigLeft %}

<div class="mb-3">
	<div style="width: 100%;" class="d-flex justify-content-between border-bottom border-primary mb-2">
		<a class="btn text-primary" href="/">Tableau de Bord</a>
		<div><i class="fas text-primary fa-angle-down"></i></div>
	</div>
</div>
{% endblock%}
{% load humanize %}

{% block add_title %}
Notifications
{% endblock %}

{% block content %}
<div>
	{% if report == 0 %}


    <div class="row">
      <div class="col-md-12">


    <img src="{%static 'plan.png'%}" alt="logo valide" width="65" style="float: left;">
    <h5 style="font-weight:bold;font-family:quartz;float: left; margin-left: 10px;" class="text-center my-4 text-danger">Liste des {{operations_name}} a effectuer
      </h5>
      <button class="btn btn-dark my-2 mx-4" onclick="toggleSearchElements()" style ="float:right"><i class="fa fa-search" ></i> Options De Recherche</button>
    </div>

    </div>

  	<div class="container">
  		<div class="row">
  <div class="col-md-12">
  <div class="card p-1 cardAll">
  <div card-title>
  <h5 class="text-primary my-2 text-center" style="font-weight:bold">
  Criteres De Recherche
  </h5>
  </div>
  <div class="card-body">
  <div class="row">
  <div class="col-md-4">
  <label style="font-weight:bold">Nom {{operations_name}}</label>
  <input type="search" class="form-control p-2 my-2" id="search" placeholder="recherchez Vos Operations Effectuees">
  </div>
  <div class="col-md-4">
  <label style="font-weight:bold">Sigle Institution</label>
  <input type="search" class="form-control p-2 my-2" id="search_sigle" placeholder="recherchez Vos Operations Effectuees en Fonction de l'institution">
  </div>
  <div class="col-md-4">
  <label style="font-weight:bold">Date echeance</label>
  <input type="date" class="form-control p-2 my-2" id="echeance_date">
  </div>

  </div>
  </div>
  </div>
  </div>
  </div>
  </div>
  </div>



	{% elif report == 1 %}
	<div class="h2 text-center text-secondary"> <i class="fas fa-check h2"></i> Validations </div>
	<div class="text-center text-secondary p-1">
		<span>Rapports - {{operations_name}} a Valider </span>
	</div>
	{% elif report == 2 %}
	<div class="h2 text-center text-secondary"> <i class="fas fa-star h2"></i> Consultations </div>
	<div class="text-center p-1">
		<span class="text-secondary">Apportez vos Avis</span>
	</div>
	{% elif report == 3 %}
	<div class="h3 text-center text-danger" style="font-family: quartz">Liste Des {{operations_name}}S Valid&eacute;s   </div>



	{% else %}
	<div class="h2 text-center text-secondary"> <i class="fas fa-envelope h2"></i> Messages </div>
	<div class="text-center p-1">
		<small class="text-success"></small>
	</div>
	{% endif %}



<div class="container">
<div class="row">
				{% if report != 1 and report != 2 and report != 3 %}
					{% for line in lines %}

					<div class="col-lg-4 col-md-6 col-sm-12 mb-4">
<div class="flexcard flexcardGreen {%if line.delai_restant == 'Le délai est écoulé !'%} bg-danger {%else%} bg-light {%endif%}">
      <div class="flexcardNumber  {%if line.delai_restant == 'Le délai est écoulé !'%}flexcardNumberred text-light {%else%}flexcardNumberGreen{%endif%} " style="font-style: italic;">date &eacute;ch&eacute;ance {{line.date_echeance}}
   {{line.m_institution.sigle}}
      </div>
      <div class="flex flexcardTitle">
<img src="{{line.institution.img.url}}"
     alt="avatar" class="flexcardimgItem rounded-circle">

      </div>
      <div class="flex flexcardText">

      	<a class="{%if line.delai_restant == 'Le délai est écoulé !'%} text-light {%else%}{%endif%}" href="/operations/{{line.id}}" style="font-weight:bold;text-transform:capitalize; text-align: center;"><small style="font-weight: bold;text-transform:capitalize;">{{line.nom}}</small></a>

      	{%if actual_institution.id == line.m_institution_id%}
														<span class="badge {%if line.delai_restant == 'Le délai est écoulé !'%} bg-danger {%else%} {%endif%} ms-1">
															<i class="fa fa-star align-middle text-light fa-spin"></i></span>
                            
													{%endif%} </div>

      <div class="flex flexcardImg">
        <a href="/operations/{{line.id}}" class="btn btn text-light" style="background: #141E30;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #243B55, #141E30);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #243B55, #141E30); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
">Soumettre Rapport</a>
                  &nbsp;                      
        
       <a class="btn btn {%if line.delai_restant == 'Le délai est écoulé !'%} text-light{%else%} btn btn-danger text-light{%endif%}"  data-toggle="modal" data-target="#exampleModal{{line.id}}" style="font-weight:bold">Commentaire(s)</a>

      
  </div>
  {%for datasets in dataset%}
  {%if line.dataset_id == datasets.id and actual_institution.formulaire == True%}

   <button class="btn btn-light mx-4 text-danger  button-pulse" style="font-weight:bold;font-style:italic"data-toggle="modal" data-target=".bd-example-modal-lg{{ datasets.id }}"   id="loadDatasetButton" data-id="{{ datasets.id }}">
    
    
    {{ datasets.m_name }}  <i class="fa fa-thumbtack"></i></button>
   <div class="modal fade bd-example-modal-lg{{ datasets.id }}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" id="bd-example-modal-lg{{ datasets.id }}">
    <div class="modal-dialog modal-lg" style='max-width:1000px;'>


          
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Formulaire <b class="text-danger">{{line.dataset.m_name}}</b>
          <button class="btn btn text-light" style="background: #536976;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #292E49, #536976);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #292E49, #536976); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
" id="loadDataButton">Charger Les Donn&eacute;s</button>
<button class="btn btn text-light" id="myButton" style="background: #232526;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #414345, #232526);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #414345, #232526); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
">Soumettre</button>
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        ...
        <div class="card">
          <div class="card-body">
          
            <hr class="p-2 bg-dark"/>
            <form method="POST" action="/save_value/" class="card" onsubmit="submitForm()" id="myForm">
              {% csrf_token %}
              <input type="hidden" name="generator" value="dSv">
              <input type="hidden" name="dSv_id" value="{{datasets.id}}">
              <input type="hidden" name="edit_or_create" value="c">
              <input type="hidden" name="variables_value" id="variables_value" >
              <input type="hidden" name="variables_names" id="variables_names" >
       
						<div class="row">
						     
							<div class="col-md-4 text-dark" style="font-weight:bold;font-style:italic" >
								<label>Ann&eacute;e</label>
								<select class="form-control" name="period1_saisie" id="annee">
									<option>Selectionnez L'ann&eacute;e</option>
									{%for period_oks in periode_ok%}
									<option value="{{ period_oks.annee }}"> {{period_oks.annee}}</option>
									{%endfor%}
								</select>
							</div>
							<div class="col-md-4" style="font-weight:bold;font-style:italic" >
								<label>Periode</label>
								<select class="form-control" name="period2_saisie" id="period">
									<option></option>
								</select>
							</div>
							<div class="col-md-4" style="font-weight:bold;font-style:italic">
								<label>Structure</label>
								<select class="form-control" name='struc_selec' id="structure">
									{%for structures in structure%}
									<option value="{{ structures.id }}">{{structures.nom}}</option>
									{%endfor%}
								</select>
							</div>
              <div class="col-md-6">
                <label for="" class="text-danger" style="font-weight:bold;display:none">Resultat CalCul *</label>
                 <input type="text" id="indicator-values" name="indicator-values" class="form-control" readonly style="display:none">
                <input type="text" name="elementsArea" id="elementsArea" class="form-control" style="display:none">
                <input type="text" name="elements" id="displayArea" class="form-control" style="display:none">
              </div>
               <div class="col-md-6">
                <label for="" class="text-danger" style="font-weight:bold;display:none">Code Indicateur *</label>
                    <input type="text" id="indicator-ids" name="indicator-ids" class="form-control" readonly style="display:none">
              </div>
						</div>
           
            
     
            <div id="loadingIndicator" role="alert" aria-live="assertive" aria-hidden="true" style="display: none;">  
              <span>Chargement en cours, veuillez patienter...</span>  
          </div> 
     
						<hr class="p-2 bg-dark"/>
            <div id="dF_Div_mob" class="modal-body">

            </div>
        
      </div>
      <div class="card-footer">
       
      </div>
    </form>
    </form>
    </div>
      </div>
    </div>
  </div>
   {%endif%}
{%endfor%}
</div>

<div class="modal fade" id="exampleModal{{line.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-primary" id="exampleModalLabel">Commentaire Pour L'operation <b class="text-danger">{{line.nom}}</b></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method="POST" action="/save_comment/" enctype="multipart/form-data">
                                            {%csrf_token%}
                                        <div class="modal-body">
                                            <label class="text-danger">Votre Commentaire *</label>
                                            <textarea class="form-control"name="commentaire"required></textarea>
                                             <label class="text-danger">Attachez Un Ou plusieurs fichiers</label>
                                            <input type="file" class="form-control" name="file[]" multiple id="attachment"  multiple>
                                              <div class="" id="fileList">
                                                <p id="files-area">
                                                  	<span id="filesList">
                                                  		<span id="files-names"></span>
                                                  	</span>
                                                  </p>
                                                    </div>
                                              <label class="text-danger">Destinataire *</label>
                                            <input type="hidden" value='{{ line.id }}' class="form-control" name="operation_id">

                                           <input type="text" class="form-control" name="role" value="{{ line.personnel.nom }}" style="display: none">
                                                  <select class="form-control" name="email" required>
                                                    <option> Selectionnez Le destinataire</option>
                                                      {%for personnels in personnel%}
                                                    <option value="{{personnels.mail}}">{{personnels.mail}}<b class="text-danger" style="font-style: italic;">|{{personnels.nom}}</b></option>
                                                    {%endfor%}
                                                  </select>
                                                    <label for="Niveau execution" class="text-danger">Niveau d'execution</label>

                                                    <select class="form-control" name="niveau">
                                                        <option value="0">0%</option>
                                                        <option value="25">25%</option>
                                                        <option value="50">50%</option>
                                                        <option value="75">75%</option>
                                                        <option value="100">100%</option>
                                                    </select>

                                        </div>

                                        



                                        
                                        <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                                          <button type="submit" class="btn btn-primary">Soumettre</button>
                                          
                                         
                                        </div>
                                    </form>

                                    <h5 style="font-weight:bold" class="text-dark">Historisation Des Commentaires</h5>
                                      <hr class="bg-dark p-2"/>

                                    <table class="table align-middle mb-0 bg-white table-responsive text-center">
                                      <thead class="bg-light">
                                        <tr>
                                        <th class="text-success">R:&nbsp;&nbsp;{{line.personnel}}</th>
                                        <th class="text-danger">A:&nbsp;&nbsp; {{line.accountable}}</th>
                                        <th class="text-primary">C:&nbsp;&nbsp; {{line.consulted}}</th>
                                        <th class="text-warning">I: &nbsp;&nbsp;{{line.informed}}</th>
                                    
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr>
                                        <td>
                                          <div class="d-flex align-items-center">
                                            <img src="{% if line.personnel.photo == '47774_frHGCVr.png' and line.personnel.sexe == 'M' %}
                                                {% static 'webpages/ctn_bpf/M.png' %}
                                              {% elif line.personnel.photo == '47774_frHGCVr.png' and line.personnel.sexe == 'F' %}
                                                {% static 'webpages/ctn_bpf/F.jpg' %}
                                              {% elif line.personnel.photo != '47774_frHGCVr.png' %}
                                                {{ line.personnel.photo.url }}
                                              {% endif %}"
                                         alt="avatar" class="img-fluid rounded-circle me-1" width="45">
                                            &nbsp;&nbsp;
                                          <div class="ms-3">
                                            <p class="fw-bold mb-1">{{line.personnel.nom}}</p>
                                            <p class="text-muted mb-0">{{line.personnel.mail}}</p>
                                          </div>
                                          </div>
                                        </td>
                                        <td>
                                          <div class="d-flex align-items-center">
                                            <img src="{% if line.accountable.photo == '47774_frHGCVr.png' and line.accountable.sexe == 'M' %}
                                                {% static 'webpages/ctn_bpf/M.png' %}
                                              {% elif line.accountable.photo == '47774_frHGCVr.png' and line.accountable.sexe == 'F' %}
                                                {% static 'webpages/ctn_bpf/F.jpg' %}
                                              {% elif line.accountable.photo != '47774_frHGCVr.png' %}
                                                {{ line.accountable.photo.url }}
                                              {% endif %}"
                                         alt="avatar" class="img-fluid rounded-circle me-1" width="45">
                                              &nbsp;&nbsp;
                                              <div class="ms-3">
                                          <p class="fw-bold mb-1">{{line.accountable.nom}}</p>
                                          <p class="text-muted mb-0">{{line.accountable.mail}}</p>
                                              </div>
                                            </div>
                                        </td>
                                        <td>
                                    
                                          <div class="d-flex align-items-center">
                                      <img src="{% if line.consulted.photo == '47774_frHGCVr.png' and line.consulted.sexe == 'M' %}
                                                {% static 'webpages/ctn_bpf/M.png' %}
                                              {% elif line.consulted.photo == '47774_frHGCVr.png' and line.consulted.sexe == 'F' %}
                                                {% static 'webpages/ctn_bpf/F.jpg' %}
                                              {% elif line.consulted.photo != '47774_frHGCVr.png' %}
                                                {{ line.consulted.photo.url }}
                                              {% endif %}"
                                         alt="avatar" class="img-fluid rounded-circle me-1" width="45">
                                    
                                              &nbsp;&nbsp;
                                              <div class="ms-3">
                                          <p class="fw-bold mb-1">{{line.consulted.nom}}</p>
                                          <p class="text-muted mb-0">{{line.consulted.mail}}</p>
                                              </div>
                                            </div>
                                        </td>
                                        <td>
                                          <div class="d-flex align-items-center">
                                        <img src="{% if line.informed.photo == '47774_frHGCVr.png' and line.informed.sexe == 'M' %}
                                                {% static 'webpages/ctn_bpf/M.png' %}
                                              {% elif line.informed.photo == '47774_frHGCVr.png' and line.informed.sexe == 'F' %}
                                                {% static 'webpages/ctn_bpf/F.jpg' %}
                                              {% elif line.informed.photo != '47774_frHGCVr.png' %}
                                                {{ line.informed.photo.url }}
                                              {% endif %}"
                                         alt="avatar" class="img-fluid rounded-circle me-1" width="45">
                                              &nbsp;&nbsp;
                                              <div class="ms-3">
                                          <p class="fw-bold mb-1">{{line.informed.nom}}</p>
                                          <p class="text-muted mb-0">{{line.informed.mail}}</p>
                                              </div>
                                            </div>
                                        </td>
                                    
                                        </tr>
                                    
                                    
                                      </tbody>
                                      </table>
                                      <hr/>
                                      <table  class="table align-middle mb-0 bg-white table-responsive text-center w-100">
                                      <thead class="bg-danger text-light">
                                        <tr>
                                        <th style="width: 35%">Commentaire(s) R&eacute;alis&eacute;(s) Par:</th>
                                        <th style="width: 50%">Commentaire</th>
                                        <th style="width: 15%">Date Commentaire</th>
                                        <th>Fichier Joint</th>
                                    
                                        </tr>
                                      </thead>
                                      <tbody>
                                      {%for operation_historics in operation_historic%}
                                      {%if operation_historics.m_operation_id == line.id%}
                                        <tr>
                                        <td>
                                          <div class="d-flex align-items-center">
                                          <img
                                            src="{%if line.personnel.photo%}{{line.personnel.photo.url}}
                                                {%elif line.accountable.photo%}{{line.accountable.photo.url}}
                                                {%elif line.consulted.photo%}{{line.consulted.photo.url}}
                                                {%elif line.informed.photo%}{{line.informed.photo.url}}
                                            {%endif%}"
                                            alt=""
                                            style="width: 45px; height: 45px"
                                            class="rounded-circle"
                                            />
                                          <div class="ms-3">
                                    
                                            <p class="text-muted fw-bold mb-1" style="font-family:quartz">
                                    
                                              {%if operation_historics.m_role == "R"%}
                                    
                                              <span class="badge badge-success">Responsible</span>
                                              <p>{{line.personnel.mail}}</p>
                                              {%elif  operation_historics.m_role == "A"%}
                                              <span class="badge badge-danger">Accountable</span>
                                              <p>{{line.accountable.mail}}</p>
                                              {%elif  operation_historics.m_role == "C"%}
                                              <span class="badge badge-primary">Consulted</span>
                                              <p>{{line.consulted.mail}}</p>
                                              {%elif  operation_historics.m_role == "I"%}
                                              <span class="badge badge-warning">Informed</span>
                                              <p>{{line.informed.mail}}</p>
                                              {%else%}
                                              <span class="badge badge-secondary">{{operation_historics.m_role}}</span>
                                    
                                            {%endif%}
                                    
                                            </p>
                                            <p class="text-muted mb-0" style="font-family:quartz">{{operation_historics.personnel.mail}}</p>
                                    
                                          </div>
                                          </div>
                                        </td>
                                        <td>
                                         <p class="fw-normal mb-1"></p>
                                          <p class="text-muted mb-0">{{operation_historics.m_commentaire}}</p>
                                        </td>
                                        <td>
                                          <span class="d-inline">{{ operation_historics.m_date_realisation }}</span>
                                    
                                         ({{ operation_historics.m_date_realisation|naturaltime }})
                                        </td>
                                    
                                        <td>    <a href="/download_files/{{operation_historics.id}}"> {{operation_historics.file}}</a></td>
                                         </tr>
                                      {%endif%}
                                      {%endfor%}
                                    
                                      </tbody>
                                      </table>
                                      <hr class="p-2 bg-dark"/>
                                  </div>
   </div>
</div>
</div>


{% comment %} <div class="modal fade" id="staticBackdrop{{line.id}}" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog  modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title text-primary" id="staticBackdropLabel" style="font-weight:bold">Historique De l'op&eacute;ration: {{line.nom}}</h6>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">



            </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Fermer</button>
            </div>
    </div>
  </div>
</div> {% endcomment %}
						<div class="">
							<a class="d-block my-3" href="/operations/{{o.id}}" >  </a>
						</div>

					</div>
					{% empty %}
					<div class="text-center h1 w-100">



						<div class="empty-state">
  <div class="empty-state__content">
    <div class="empty-state__icon">
<h4 class="text-danger" style="font-family:quartz">
      <img src="data:image/png;base64,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" alt="">
	 Aucune {{operations_name}} de prevu Merci !   </h4>
</div>
   </div>
</div>

					</div>
					<div class="text-center py-3">
						<a href="/messengers/" style="background-color:pink;" class="text-dark btn"> <i class="fas fa-envelope"></i> Messagerie Personnel</a>
					</div>
					{% endfor %}

</div>
</div>
</section>

<div class="container">
	<div class="row">
		<div class="col-md-12">

				{% elif report == 1 %}
					{% for line in lines %}

					<div class="mb-4 flex-wrap justify-content-between col-12  h4">

						<section class="section">


									<div class="row">
										<div class="col-lg-12">

											<div class="candidate-list">
												<div class="candidate-list-box card mt-1">
													<div class="p-4 card-body">
														<div class="align-items-center row">
															<div class="col-auto">
																<div class="candidate-list-images">
																	<a href="#"><img src="{{line.institution.img.url}}" alt="" class="avatar-md img-thumbnail rounded-circle" /></a>
																</div>
															</div>
			<div class="col-lg-7">
			<div class="candidate-list-content mt-3 mt-lg-0">
		<h6 class="fs-19 mb-0">

	<a class="primary-link" href="/decision/o/{{line.id}}/" style="font-weight:bold; text-transform:uppercase"> {{line.nom}} </a>
																		{%if actual_institution.id == line.m_institution_id%}<span class="badge bg-success ms-1"><i class="fa fa-star align-middle text-light fa-spin"></i></span> {%endif%}
																	</h6>
																	<p class="text-muted mb-2">{{line.personnel}}</p>
																	<ul class="list-inline mb-0 text-muted">
																		<li class="list-inline-item"><i class="fa fa-calendar"></i>Attribu&eacute;e le: {{line.date_creation}}</li>

																	</ul>
																</div>
															</div>
															<div class="col-lg-2">
																<div class="mt-2 mt-lg-0 d-flex flex-wrap align-items-start gap-1">
<a href="#"><img src="{{line.personnel.photo.url}}" alt="" class="avatar-md img-thumbnail rounded-circle" /></a>


																</div>
															</div>
														</div>

													</div>
												</div>


							</section>

					</div>
					{% empty %}
<div class="empty-state">
  <div class="empty-state__content">
    <div class="empty-state__icon">
<h4 class="text-danger" style="font-family:quartz">
      <img src="data:image/png;base64,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" alt="">
	 Aucun Rapport  Transmit Pour Le Moment Merci !   </h4>
</div>
   </div>
</div>
</div>
</div>
</section>

					{% endfor %}
{% elif report != 3 and report != 1 and report %}
					{% for line in lines %}

					<div class="mb-4 flex-wrap justify-content-between col-12  h4">

						<section class="section">


									<div class="row">
										<div class="col-lg-12">

											<div class="candidate-list">
												<div class="candidate-list-box card mt-1">
													<div class="p-4 card-body">
														<div class="align-items-center row">
															<div class="col-auto">
																<div class="candidate-list-images">
																	<a href="#"><img src="{{line.institution.img.url}}" alt="" class="avatar-md img-thumbnail rounded-circle" /></a>
																</div>
															</div>
															<div class="col-lg-7">
																<div class="candidate-list-content mt-3 mt-lg-0">
																	<h6 class="fs-19 mb-0">
																		<a class="primary-link" href="/Avis/c/{{line.id}}" style="font-weight:bold; text-transform:uppercase"> {{line.nom}} </a>
																		{%if actual_institution.id == line.m_institution_id%}<span class="badge bg-success ms-1"><i class="fa fa-star align-middle text-light fa-spin"></i></span> {%endif%}
																	</h6>
																	<p class="text-muted mb-2">{{line.personnel}}</p>
																	<ul class="list-inline mb-0 text-muted">
																		<li class="list-inline-item"><i class="fa fa-calendar"></i>Attribu&eacute;e le: {{line.date_creation}}</li>

																	</ul>
																</div>
															</div>
															<div class="col-lg-2">
																<div class="mt-2 mt-lg-0 d-flex flex-wrap align-items-start gap-1">
<a href="#"><img src="{{line.personnel.photo.url}}" alt="" class="avatar-md img-thumbnail rounded-circle" /></a>

																</div>
															</div>
														</div>

													</div>
												</div>


							</section>

					</div>
					{% empty %}
					<div class="text-center h1 w-100">
						<div class="empty-state">
  <div class="empty-state__content">
    <div class="empty-state__icon">
<h4 class="text-danger" style="font-family:quartz">
      <img src="data:image/png;base64,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" alt="">
	 Aucun Rapport  Transmit Pour Le Moment Merci !   </h4>
</div>
   </div>
</div>

					</div>
					{% endfor %}
				</div>
			</div>
		</section>
	</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

		<div class="container">
		<div class="row">

	{% elif report == 3 %}
					{% for line in lines %}
          {%if line.is_deleted == False%}
<div class="col-md-12">
  <section class="section">
			<div class="candidate-list">
				<div class="candidate-list-box card mt-1">
						<div class="p-4 card-body">
								<div class="align-items-center row">
									<div class="col-auto">
											<div class="candidate-list-images">
										<a href="#"><img src="{{line.institution.img.url}}" alt="" class="avatar-md img-thumbnail rounded-circle" /></a>
											</div>
											</div>
											<div class="col-lg-7">
										<div class="candidate-list-content mt-3 mt-lg-0">
											<h6 class="fs-19 mb-0">
											<a class="primary-link" href="/Avis/i/{{line.id}}" style="font-weight:bold; text-transform:uppercase"> {{line.nom}} </a>
																		{%if actual_institution.id == line.m_institution_id%}<span class="badge bg-success ms-1"><i class="fa fa-check align-middle text-light"></i></span> {%endif%}
																	</h6>
																	<p class="text-muted mb-2">{{line.personnel}}</p>
																	<ul class="list-inline mb-0 text-muted">
																		<li class="list-inline-item"><i class="fa fa-calendar"></i>Attribu&eacute;e le: {{line.date_creation}}</li>

																	</ul>
																</div>
															</div>
															<div class="col-lg-2">
																<div class="mt-2 mt-lg-0 d-flex flex-wrap align-items-start gap-1">
																<a href="#"><img src="{{line.personnel.photo.url}}" alt="" class="avatar-md img-thumbnail rounded-circle" /></a>

																</div>
															</div>
														</div>

													</div>
												</div>


							</section>

					</div>
          {%endif%}

       
					{% endfor %}

				{% endif %}
			</div>
		</div>
	</div>
</div>

</section>
</div>
</div>
</div>
</div>

{% if num_pages > 1 %}
<nav style="text-align: center;">
	<ul class="pagination justify-content-center">
		<li>
			{% if pages.number > 1 %}
			<a href="?page={{pages_o.previous_page_number}}" aria-label="Previous" class="btn btn-light rounded-circle">&laquo; Prev
			</a>
			{% endif %}
		</li>
		{% for num in page_range %}
		<li><a {% if pages_o.number == num %} class="btn btn-info rounded-circle"  {% else %} class="btn btn-light text-secondary rounded-circle"  {% endif %} href="?page={{num}}">{{num}}</a></li>
		{% endfor %}
		<li>
			{% if pages.number < num_pages %}
			<a href="?page={{pages_o.next_page_number}}" aria-label="Next" class="btn btn-light rounded-circle">
				Next &raquo;
			</a>
			{% endif %}
		</li>
	</ul>
</nav>
{% endif %}

{% endblock %}

{% block script %}
<script>
	entChanger = document.getElementsByClassName("entChanger");

	function get_subsent(elt){
		hierachy = elt.getAttribute("data-hierachy")
		val = elt.value;

		if ( hierachy != "0") {
			pre_hierachy = entChanger[parseInt(hierachy)-1].value;
		}
		else{
			pre_hierachy = -1;
		}
		$.ajax({
			url: '/get_elements_subsequency/',
			data: {
				'nature':hierachy,
				'entity':val,
				'report':{{report}},
				'pre_hierachy':pre_hierachy
			},
			dataType: 'json',
			success: function (data) {
				for (var i=0;i<data.data_ids.length;i++){

					html = ""

					tmp = data.data_ids[i];
					tmp2 = data.data_names[i];
					for (var j=0;j<tmp.length;j++){
						html += "<option value='"+tmp[j]+"'>"+tmp2[j]+"</option>";
					}
					html += "<option value='0'>Tous</option>"
					entChanger[(parseInt(hierachy)+i+1)].innerHTML = html ;
				}
			},
			error: function(data){
			}
		});
	}

	function entFiller(){
		entHidden = document.getElementById("entHidden");
		tmp = "";
		for(var i=0;i<entChanger.length;i++){
			tmp += entChanger[i].value + "#";
		}
		entHidden.value = tmp
	}

	{% if entHidden != None %}
	 {% for ent in entHidden %}
	 	entChanger[parseInt({{forloop.counter}})-1].value = "{{ent}}"
	 {% endfor %}
	{% endif %}
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="text/javascript">
  $(document).ready(function() {
    $('#search').on('input', function() {
        var searchText = $(this).val().toLowerCase();
        $('.flexcard').each(function() {
            var operationName = $(this).find('.flexcardText').text().toLowerCase();
            if (operationName.includes(searchText)) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
    });
});


</script>

 <script>
        $(document).ready(function() {
            $('#search_sigle').on('input', function() {
                var searchText = $(this).val().toLowerCase();
                $('.flexcard').each(function() {
                    var sigle = $(this).find('.flexcardNumber').text().toLowerCase();
                    if (sigle.includes(searchText)) {
                        $(this).show();
                    } else {
                        $(this).hide();
                    }
                });
            });
        });
    </script>
    <script type="text/javascript">
      $(document).ready(function() {
  $("#echeance_date").change(function() {
    // Get the selected date
    var selectedDate = $(this).val();

    // Loop through each element with class "col-lg-4"
    $(".col-lg-4").each(function() {
      // Get the date text within the element
      var elementDate = $(this).find(".flexcardNumber").text().split(" ")[1];  // Extract date part

      // Convert both dates to actual Date objects for comparison
      var selectedDateObj = new Date(selectedDate);
      var elementDateObj = new Date(elementDate);

      // Check if element date matches selected date
      if (selectedDateObj.getTime() === elementDateObj.getTime()) {
        // Show the element if dates match
        $(this).show();
      } else {
        // Hide the element if dates don't match
        $(this).hide();
      }
    });
  });
});

    </script>
    <script type="text/javascript">
      const dt = new DataTransfer(); // Permet de manipuler les fichiers de l'input file

    $("#attachment").on('change', function(e){
    	for(var i = 0; i < this.files.length; i++){
    		let fileBloc = $('<span/>', {class: 'file-block'}),
    			 fileName = $('<span/>', {class: 'name', text: this.files.item(i).name});
    		fileBloc.append('<span class="file-delete"><span>+</span></span>')
    			.append(fileName);
    		$("#filesList > #files-names").append(fileBloc);
    	};
    	// Ajout des fichiers dans l'objet DataTransfer
    	for (let file of this.files) {
    		dt.items.add(file);
    	}
    	// Mise à jour des fichiers de l'input file après ajout
    	this.files = dt.files;

    	// EventListener pour le bouton de suppression créé
    	$('span.file-delete').click(function(){
    		let name = $(this).next('span.name').text();
    		// Supprimer l'affichage du nom de fichier
    		$(this).parent().remove();
    		for(let i = 0; i < dt.items.length; i++){
    			// Correspondance du fichier et du nom
    			if(name === dt.items[i].getAsFile().name){
    				// Suppression du fichier dans l'objet DataTransfer
    				dt.items.remove(i);
    				continue;
    			}
    		}
    		// Mise à jour des fichiers de l'input file après suppression
    		document.getElementById('attachment').files = dt.files;
    	});
    });
    </script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        // Masquer les éléments au chargement de la page
        $('.cardAll').hide();

        // Fonction pour basculer les éléments et changer le texte du bouton
        function toggleSearchElements() {
          $('.cardAll').toggle('slow');
          var buttonText = $('.btn-dark').text();
          if (buttonText.trim() === "Masquer Options De Recherche") {
            $('.btn-dark').text("Afficher Options De Recherche");

          } else {
            $('.btn-dark').text("Masquer Options De Recherche");
          }
        }

        // Attacher la fonction à un événement, par exemple un clic sur un bouton
        $('.btn-dark').click(function() {
          toggleSearchElements();
        });
      });
    </script>



      
{% for message in messages %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
 {% if message.tags == 'success' %}

<script type="text/javascript">
 Swal.fire({
 position: "top-end",
 icon: "success",
 title: "{{message}}",
 showConfirmButton: false,
 timer: 2000
});
</script>
{%endif%}
{%endfor%}
</script>
{% for message in messages %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
 {% if message.tags == 'error' %}

<script type="text/javascript">
 Swal.fire({
 position: "top-end",
 icon: "error",
 title: "{{message}}",
 showConfirmButton: false,
 timer: 5000
});
</script>
{%endif%}
{%endfor%}


<script>
						
  $(document).ready(function() {
    $('#annee').on('change', function() {
      var selectedId = $(this).val();
    
      // Effectuer une requête AJAX pour récupérer les informations de la table periodeok en fonction de l'ID de la période sélectionnée
      $.ajax({
      url: '/search_period/',  // L'URL correspondant à la vue Django
      method: 'GET',
      data: { annee: selectedId },
      success: function(data) {
        var selectInformations = $('#period');
        selectInformations.empty(); // Effacer les anciennes options
    
        // Ajouter les nouvelles options basées sur les données récupérées via AJAX
        data.forEach(function(periode_ok_id) {
        selectInformations.append($('<option>', {
          value: periode_ok_id.id,
          text: periode_ok_id.nom  // Remplacez 'champ1' par le nom du champ que vous souhaitez afficher
        }));
        });
      },
      error: function(xhr, status, error) {
        console.error('Une erreur s\'est produite lors de la requête AJAX :', status, error);
      }
      });
    });
    });
    
    </script>





    <script>  
      function loadDataset(button) {  
        const datasetId = button.getAttribute('data-id');  
        const url = `/get_dataset/${datasetId}/`;  
    
        // Afficher une alerte de chargement avec SweetAlert  
        Swal.fire({  
            title: 'Chargement...',  
            text: 'Veuillez patienter pendant le chargement des données.',  
            allowOutsideClick: false,  
            showConfirmButton: false,  
            onBeforeOpen: () => {  
                Swal.showLoading();  
            }  
        });  
    
        fetch(url)  
            .then(response => {  
                if (!response.ok) {  
                    throw new Error('Erreur lors de la récupération du dataset');  
                }  
                return response.json();  
            })  
            .then(data => {  
                const modalBody = document.querySelector(`.bd-example-modal-lg${datasetId} .modal-body`);  
                if (modalBody) {  
                    if (data.content) { // Vérifier si le contenu existe  
                        modalBody.innerHTML = `<p>${data.content}</p>`;  
                    } else {  
                        modalBody.innerHTML = "<p>Aucun contenu disponible.</p>"; // Contenu vide  
                    }  
                    initIndic(datasetId);  
                    Swal.close(); // Fermer l'alerte de chargement  
                } else {  
                    console.error('modalBody est null');  
                    Swal.close(); // Fermer l'alerte de chargement si modalBody est null  
                }  
            })  
            .catch(error => {  
                const modalBody = document.querySelector(`.bd-example-modal-lg${datasetId} .modal-body`);  
                if (modalBody) {  
                    modalBody.innerHTML = "<p>Erreur lors du chargement des données. Veuillez réessayer.</p>"; // Message d'erreur  
                }  
                console.error('Erreur:', error);  
                Swal.fire({  
                    icon: 'error',  
                    title: 'Une erreur est survenue',  
                    text: 'Veuillez réessayer.',  
                }); // Afficher une alerte d'erreur  
            });  
    }
      
      // Fonction pour échapper les caractères HTML (protection XSS)
function escapeHtml(unsafe) {
  return unsafe
         .replace(/&/g, "&amp;")
         .replace(/</g, "&lt;")
         .replace(/>/g, "&gt;")
         .replace(/"/g, "&quot;")
         .replace(/'/g, "&#039;");
}


function showLoading() {  
  const loadingIndicator = document.getElementById('loadingIndicator');   
  loadingIndicator.style.display = 'block'; // Afficher un spinner  
  loadingIndicator.setAttribute('aria-hidden', 'false'); // Définir aria-hidden à false  
}  

function hideLoading() {  
  const loadingIndicator = document.getElementById('loadingIndicator');  
  loadingIndicator.style.display = 'none'; // Masquer le spinner  
  loadingIndicator.setAttribute('aria-hidden', 'true'); // Définir aria-hidden à true  
}  

document.getElementById('loadDataButton').addEventListener('click', function() {  
  const selectedYear = document.getElementById('annee').value;  
  const selectedPeriod = document.getElementById('period').value;  
  const selectedStructure = document.getElementById('structure').value;  

  // Vérifier si toutes les sélections sont faites  
  if (!selectedYear || !selectedPeriod || !selectedStructure) {  
    Swal.fire({  
        icon: 'warning',  
        title: 'Attention!',  
        text: "Veuillez sélectionner l'année, la période et la structure.",  
        confirmButtonText: 'OK'  
    });  
    return;  
}
  const url = `/load_data/${selectedStructure}/${selectedPeriod}/`; // URL pour récupérer les données  
  showLoading(); // Afficher l'indicateur de chargement  

  fetch(url)  
      .then(response => {  
          if (!response.ok) {  
              throw new Error('Erreur lors de la récupération des données');  
          }  
          return response.json();  
      })  
      .then(data => handleData(data))  
      .catch(error => {  
          console.error('Erreur lors du chargement des données:', error);  
          alert("Une erreur est survenue. Veuillez réessayer.");  
      })  
      .finally(() => hideLoading()); // Masquer l'indicateur de chargement  
});



// Fonction pour initialiser les indicateurs  
function initIndic(datasetId) {  
  console.log("Fonction initIndic() appelée avec datasetId:", datasetId);  

  const indicSelector = document.getElementsByClassName("indicSelector");  
  let indic_value = "";  
  for (let i = 0; i < indicSelector.length; i++) {  
      indic_value += indicSelector[i].getAttribute("data-id") + "#";  
  }  

  const institutionId = {{ actual_institution.id }}; // Assurez-vous que `actual_institution` est défini  

  $.ajax({  
      url: '/get_elements/',  
      data: {  
          'dataset': datasetId,  
          'type_dataset': '0',  
          'other': 'dI_formula',  
          'institution': institutionId,  
          'value': indic_value  
      },  
      success: function(data) {  
          function check_selector(evalu = false) {  
              const indicatorValues = {};  

              for (let i = 0; i < indicSelector.length; i++) {  
                  indicSelector[i].textContent = data.formulas[i];  
                  const indicatorId = indicSelector[i].getAttribute("data-id");  
                 
                  const tmp_elts = data.data_elts.split("#");  
                  console.log('les ids sont:', tmp_elts);
                  let elts = [];  

                  for (let j = 0; j < tmp_elts.length; j++) {  
                      const tp = document.getElementsByName("D0elt" + tmp_elts[j]);  
                      if (tp.length > 0) {  
                          elts.push({ id: tmp_elts[j], value: tp[0].value }); // Récupération des valeurs avec l'ID  
                          console.log("Valeur de D0elt" + tmp_elts[j] + " :", tp[0].value); // Affichage de la valeur récupérée  
                      
                        } else {  
                          console.warn("Élément manquant pour D0elt" + tmp_elts[j]);  
                      }  
                  }  

                  console.log("Éléments récupérés :", elts);   

                  // Mettre à jour le displayArea  
                  const displayArea = document.getElementById("displayArea");  
                  const valuesString = elts.map(item => `"D0elt" ${item.id}: ${item.value}`).join(', '); // Formater les valeurs  
                  displayArea.value = valuesString; // Mettre à jour l'input avec les valeurs formatées  

                  // Définir la valeur à soumettre dans un champ caché  
                  document.getElementById("elementsArea").value = JSON.stringify(elts); // Soumission en format JSON  

                  // Remplacer les placeholders dans indicSelector avec les valeurs récupérées  
                  for (let j = 0; j < elts.length; j++) {  
                      indicSelector[i].textContent = indicSelector[i].textContent.replace("$" + tmp_elts[j] + "$", elts[j].value);  
                  }  

                  if (evalu) {  
                      try {  
                          indicSelector[i].textContent = eval(indicSelector[i].textContent); // Évaluation des calculs  
                          const indicatorValue = indicSelector[i].textContent;  
                          indicatorValues[indicatorId] = indicatorValue;  
                      } catch (error) {  
                          console.error("Erreur lors du calcul de l'indicateur :", error);  
                      }  
                  }  
              }  

              // Stocker les valeurs et les identifiants dans les champs cachés du formulaire  
              document.getElementById("indicator-values").value = JSON.stringify(indicatorValues);  
              const indicatorIds = Object.keys(indicatorValues);  
              document.getElementById("indicator-ids").value = JSON.stringify(indicatorIds);  

              return indicatorValues;  
          }  

          // Évaluer les sélecteurs d'indicateurs  
          check_selector(true);  

          const variables_selector = document.getElementsByClassName("variableSelector");  
          for (let i = 0; i < variables_selector.length; i++) {  
              const inputs = variables_selector[i].getElementsByTagName("input")[0];  
              if (inputs) {  
                  inputs.onchange = function() {  
                      try {  
                          check_selector(true);  
                      } catch (error) {  
                          console.error("Erreur lors de l'évaluation des sélecteurs :", error);  
                          check_selector(); // Évaluer sans option  
                      }  
                  };  
              }  
          }  
      },  
      error: function(xhr, status, error) {  
          console.error("Erreur AJAX:", status, error);  
          alert("Une erreur est survenue lors de la récupération des éléments. Veuillez réessayer.");  
      }  
  });  
}  

// Ajout d'un gestionnaire d'événements pour chaque bouton ayant 'loadDatasetButton' comme ID  
document.querySelectorAll('.btn.button-pulse').forEach(button => {  
  button.addEventListener('click', function() {  
      loadDataset(this);  
  });  
});
function handleData(data) {
  if (data.error) {  
      console.error('Erreur:', data.error);  
      alert("Erreur lors du chargement des données: " + data.error);  
      return;  
  }  

  console.log('Données récupérées:', data);   
  const elts = data.data; // Utilisez directement le tableau de données

  updateElements(elts);
}

function updateElements(elts) {
  elts.forEach(item => {
      // Mise à jour de l'input
      const inputElement = document.querySelector(`input[name="D0elt${item.id}"]`);  
      console.log(`Recherche de l'input pour D0elt${item.id}:`, inputElement); // Log pour déboguer
      if (inputElement) {  
          inputElement.value = item.content; 
          console.log(`Champ D0elt${item.id} mis à jour avec : ${item.content}`);  
      } else {  
          console.warn(`Élément manquant pour D0elt${item.id}`);  
      }  

      // Mise à jour du span
      const spanElement = document.querySelector(`span[data-id="${item.id}"]`);  
      console.log(`Recherche du span pour l'ID ${item.id}:`, spanElement); // Log pour déboguer
      if (spanElement) {  
          spanElement.textContent = item.content; 
          console.log(`Span avec l'ID ${item.id} mis à jour avec : ${item.content}`);  
      } else {  
          console.warn(`Span manquant pour l'ID ${item.id}`);  
      }  
  });
}


  </script>



  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    // Ajoutez un écouteur d'événements au bouton
    document.getElementById('myButton').addEventListener('click', function() {
        Swal.fire({
            title: "<strong>Information</strong>",
            icon: "info",
            html: `
                Les données saisies seront remplacées dans la base de données en cas de doublon. <b>Souhaitez-vous tout de même les enregistrer ?</b>
            `,
            showCloseButton: true,
            showCancelButton: true,
            focusConfirm: false,
            confirmButtonText: `
                <i class="fa fa-thumbs-up"></i> Oui / Yes!
            `,
            confirmButtonAriaLabel: "Thumbs up, great!",
            cancelButtonText: `
                <i class="fa fa-thumbs-down"></i> Non / No
            `,
            cancelButtonAriaLabel: "Thumbs down"
        }).then((result) => {
            if (result.isConfirmed) {
                // Si l'utilisateur confirme, soumettez le formulaire
                myForm.submit(); 
            }
        });
    });
</script>


{% endblock %}
